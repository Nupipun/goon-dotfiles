# ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
# ┃                         Keybinds                            ┃
# ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛

source = ~/.config/hypr/config/defaults.conf

# ---------------------------------------------------------------------------------
# --- Aplicaciones Principales
# ---------------------------------------------------------------------------------
bind = $mainMod, RETURN, exec, $terminal
bind = $mainMod, E, exec, $filemanager
bind = $mainMod, SPACE, exec, $applauncher

# ---------------------------------------------------------------------------------
# --- Gestión de Ventanas y Sesión
# ---------------------------------------------------------------------------------
bind = $mainMod, Q, killactive,
bind = $mainMod, T, togglefloating,
bind = $mainMod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy
bind = $mainMod SHIFT, V, exec, ~/.config/hypr/scripts/paste-plain.sh
bind = $mainMod, F, fullscreen,
bind = $mainMod, Y, pin,
bind = $mainMod, J, togglesplit,
bind = $mainMod SHIFT, F4, exit, # Salir de Hyprland
bind = $mainMod SHIFT, R, exec, hyprctl reload # Recargar Hyprland
bind = $mainMod, L, exec, swaylock -f -c 000000 # Bloquear pantalla

# ---------------------------------------------------------------------------------
# --- Control de Multimedia (Volumen, Brillo, Reproducción)
# ---------------------------------------------------------------------------------
# Volumen (requiere pamixer)
bindel = , XF86AudioRaiseVolume, exec, pamixer -i 5 && pamixer --get-volume > /tmp/wob.sock
bindel = , XF86AudioLowerVolume, exec, pamixer -d 5 && pamixer --get-volume > /tmp/wob.sock
bindl = , XF86AudioMute, exec, pamixer -t && pamixer --get-volume > /tmp/wob.sock

# Brillo
bindel = , XF86MonBrightnessUp, exec, brightnessctl s +5%
bindel = , XF86MonBrightnessDown, exec, brightnessctl s 5%-

# Reproducción
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# ---------------------------------------------------------------------------------
# --- Capturas de Pantalla (grimblast)
# ---------------------------------------------------------------------------------
# Copiar al portapapeles
bind = , Print, exec, $shot-screen-copy
bind = SHIFT, Print, exec, $shot-region-copy
bind = CTRL, Print, exec, $shot-window-copy

# Guardar en archivo
bind = ALT, Print, exec, $shot-screen-save
bind = ALT SHIFT, Print, exec, $shot-region-save
bind = ALT CTRL, Print, exec, $shot-window-save

# ---------------------------------------------------------------------------------
# --- Movimiento y Enfoque de Ventanas
# ---------------------------------------------------------------------------------
# Mover y redimensionar ventanas con el ratón
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Mover enfoque con flechas
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Mover ventanas con SHIFT + flechas
bind = $mainMod SHIFT, left, movewindow, l
bind = $mainMod SHIFT, right, movewindow, r
bind = $mainMod SHIFT, up, movewindow, u
bind = $mainMod SHIFT, down, movewindow, d

# ---------------------------------------------------------------------------------
# --- Redimensionar Ventanas
# ---------------------------------------------------------------------------------
# Modo de redimensionado con $mainMod + R
bind = $mainMod, R, submap, resize
submap = resize
binde = , right, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , down, resizeactive, 0 10
bind = , escape, submap, reset
submap = reset

# ---------------------------------------------------------------------------------
# --- Gestión de Espacios de Trabajo (Workspaces)
# ---------------------------------------------------------------------------------
# Cambiar a un espacio de trabajo
bind = $mainMod, 1, split-workspace, 1
bind = $mainMod, 2, split-workspace, 2
bind = $mainMod, 3, split-workspace, 3
bind = $mainMod, 4, split-workspace, 4
bind = $mainMod, 5, split-workspace, 5
bind = $mainMod, 6, split-workspace, 6
bind = $mainMod, 7, split-workspace, 7
bind = $mainMod, 8, split-workspace, 8
bind = $mainMod, 9, split-workspace, 9
bind = $mainMod, 0, split-workspace, 10

# Mover ventana a un espacio de trabajo
bind = $mainMod SHIFT, 1, split-movetoworkspace, 1
bind = $mainMod SHIFT, 2, split-movetoworkspace, 2
bind = $mainMod SHIFT, 3, split-movetoworkspace, 3
bind = $mainMod SHIFT, 4, split-movetoworkspace, 4
bind = $mainMod SHIFT, 5, split-movetoworkspace, 5
bind = $mainMod SHIFT, 6, split-movetoworkspace, 6
bind = $mainMod SHIFT, 7, split-movetoworkspace, 7
bind = $mainMod SHIFT, 8, split-movetoworkspace, 8
bind = $mainMod SHIFT, 9, split-movetoworkspace, 9
bind = $mainMod SHIFT, 0, split-movetoworkspace, 10

# Mover ventana a un espacio de trabajo (en silencio)
bind = $mainMod CTRL, 1, split-movetoworkspacesilent, 1
bind = $mainMod CTRL, 2, split-movetoworkspacesilent, 2
bind = $mainMod CTRL, 3, split-movetoworkspacesilent, 3
bind = $mainMod CTRL, 4, split-movetoworkspacesilent, 4
bind = $mainMod CTRL, 5, split-movetoworkspacesilent, 5
bind = $mainMod CTRL, 6, split-movetoworkspacesilent, 6
bind = $mainMod CTRL, 7, split-movetoworkspacesilent, 7
bind = $mainMod CTRL, 8, split-movetoworkspacesilent, 8
bind = $mainMod CTRL, 9, split-movetoworkspacesilent, 9
bind = $mainMod CTRL, 0, split-movetoworkspacesilent, 10

# Cambiar entre espacios de trabajo con la rueda del ratón
bind = $mainMod, mouse_down, split-workspace, e+1
bind = $mainMod, mouse_up, split-workspace, e-1

# ---------------------------------------------------------------------------------
# --- Espacios de Trabajo Especiales (Special Workspaces)
# ---------------------------------------------------------------------------------
bind = $mainMod, M, togglespecialworkspace, mpv
bind = $mainMod SHIFT, M, movetoworkspace, special:mpv

bind = $mainMod, C, togglespecialworkspace, auth
bind = $mainMod SHIFT, C, movetoworkspace, special:auth

# ---------------------------------------------------------------------------------
# --- Otros
# ---------------------------------------------------------------------------------
# Toggle Gaps
bind = $mainMod SHIFT, B, exec, hyprctl keyword general:gaps_out 0 && hyprctl keyword general:gaps_in 0
bind = $mainMod, B, exec, hyprctl keyword general:gaps_out 5 && hyprctl keyword general:gaps_in 3

# Toggle Waybar
bind = $mainMod, W, exec, killall -SIGUSR2 waybar

# Sleep monitors
bind = $mainMod CTRL, M, exec, ~/.config/hypr/scripts/sleep_and_rgb_off.sh
